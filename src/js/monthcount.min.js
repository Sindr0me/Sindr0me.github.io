'use strict';

const yearsArr = ['год', 'года','лет'],
monthArr = ['месяц', 'месяца', 'месяцев'],
daysArr = ['день', 'дня', 'дней'];

function getData(element, dateStart) {
    let diffDate = new Date(new Date() - dateStart);

    let years = diffDate.toISOString().slice(0, 4) - 1970,
    month = diffDate.getMonth(),
    days = diffDate.getDate();

    if (years === 0) {
        element.html(`${txtToTime (month, monthArr)} и ${txtToTime (days, daysArr)}`);
    }
    else if (month === 0) {
        element.html(`${txtToTime(years, yearsArr)} и ${txtToTime (days, daysArr)}`);
    }
    else {
        element.html(`${txtToTime(years, yearsArr)}, ${txtToTime (month, monthArr)} и ${txtToTime (days, daysArr)}`);
    }
};

function txtToTime (date, arr) {
    let text = '';
    let num = date % 100;

    if (num > 19) {
        num = num % 10;
    }

    if(num === 2 || num === 3 || num === 4) {
        text = `${date} ${arr[1]}`;
    } else if(num === 1) {
        text = `${date} ${arr[0]}`;
    } else {
        text = `${date} ${arr[2]}`;
        }

    return text;
};

getData($('#work_time'), new Date('2016-08-23'));
getData($('#exp-in-work'), new Date('2018-07-06'));

setInterval(function(){
    console.info('update dates');
    getData($('#work_time'), new Date('2016-08-23'));
    getData($('#exp-in-work'), new Date('2018-07-06'));
},100000);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtb250aGNvdW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgeWVhcnNBcnIgPSBbJ9Cz0L7QtCcsICfQs9C+0LTQsCcsJ9C70LXRgiddLFxubW9udGhBcnIgPSBbJ9C80LXRgdGP0YYnLCAn0LzQtdGB0Y/RhtCwJywgJ9C80LXRgdGP0YbQtdCyJ10sXG5kYXlzQXJyID0gWyfQtNC10L3RjCcsICfQtNC90Y8nLCAn0LTQvdC10LknXTtcblxuZnVuY3Rpb24gZ2V0RGF0YShlbGVtZW50LCBkYXRlU3RhcnQpIHtcbiAgICBsZXQgZGlmZkRhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpIC0gZGF0ZVN0YXJ0KTtcblxuICAgIGxldCB5ZWFycyA9IGRpZmZEYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNCkgLSAxOTcwLFxuICAgIG1vbnRoID0gZGlmZkRhdGUuZ2V0TW9udGgoKSxcbiAgICBkYXlzID0gZGlmZkRhdGUuZ2V0RGF0ZSgpO1xuXG4gICAgaWYgKHllYXJzID09PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuaHRtbChgJHt0eHRUb1RpbWUgKG1vbnRoLCBtb250aEFycil9INC4ICR7dHh0VG9UaW1lIChkYXlzLCBkYXlzQXJyKX1gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobW9udGggPT09IDApIHtcbiAgICAgICAgZWxlbWVudC5odG1sKGAke3R4dFRvVGltZSh5ZWFycywgeWVhcnNBcnIpfSDQuCAke3R4dFRvVGltZSAoZGF5cywgZGF5c0Fycil9YCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbGVtZW50Lmh0bWwoYCR7dHh0VG9UaW1lKHllYXJzLCB5ZWFyc0Fycil9LCAke3R4dFRvVGltZSAobW9udGgsIG1vbnRoQXJyKX0g0LggJHt0eHRUb1RpbWUgKGRheXMsIGRheXNBcnIpfWApO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIHR4dFRvVGltZSAoZGF0ZSwgYXJyKSB7XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICBsZXQgbnVtID0gZGF0ZSAlIDEwMDtcblxuICAgIGlmIChudW0gPiAxOSkge1xuICAgICAgICBudW0gPSBudW0gJSAxMDtcbiAgICB9XG5cbiAgICBpZihudW0gPT09IDIgfHwgbnVtID09PSAzIHx8IG51bSA9PT0gNCkge1xuICAgICAgICB0ZXh0ID0gYCR7ZGF0ZX0gJHthcnJbMV19YDtcbiAgICB9IGVsc2UgaWYobnVtID09PSAxKSB7XG4gICAgICAgIHRleHQgPSBgJHtkYXRlfSAke2FyclswXX1gO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHQgPSBgJHtkYXRlfSAke2FyclsyXX1gO1xuICAgICAgICB9XG5cbiAgICByZXR1cm4gdGV4dDtcbn07XG5cbmdldERhdGEoJCgnI3dvcmtfdGltZScpLCBuZXcgRGF0ZSgnMjAxNi0wOC0yMycpKTtcbmdldERhdGEoJCgnI2V4cC1pbi13b3JrJyksIG5ldyBEYXRlKCcyMDE4LTA3LTA2JykpO1xuXG5zZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgIGNvbnNvbGUuaW5mbygndXBkYXRlIGRhdGVzJyk7XG4gICAgZ2V0RGF0YSgkKCcjd29ya190aW1lJyksIG5ldyBEYXRlKCcyMDE2LTA4LTIzJykpO1xuICAgIGdldERhdGEoJCgnI2V4cC1pbi13b3JrJyksIG5ldyBEYXRlKCcyMDE4LTA3LTA2JykpO1xufSwxMDAwMDApOyJdLCJmaWxlIjoibW9udGhjb3VudC5qcyJ9
